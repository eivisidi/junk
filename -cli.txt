
Apt-get
-----------
apt-get -h (help)
man apt-get (help)
apt-get [options] command packagename
  		   -s - simulate action
                   -d - only download
		   -y - answer yes
		   -V - extra information
  		                 update
                                 upgrade
                                 install
                                 remove
                                 autoremove
                                 purge
                                 dist-upgrade
                                 clean
                                 autoclean
                                 check
                                

Aptitude
------------
aptitude -h (help)
man aptitude (help)
aptitude [options] command packagename
                  -s - simulate action
                  -d - only download
                  -P - always prompt
                  -y - answer yes
                  -f - fix broken packages
                  -V - versions of packages
                  -D - dependencies
                  -v - extra information
                  -t [release] 
                   --with(out)-recommends
                                   install
                                   remove
                                   purge
                                   update
                                   safe-upgrade
                                   full-upgrade
                                   search
                                   show
                                   versions
                                   clean
                                   reinstall
                                   
remove whole metapackage:
sudo aptitude purge `dpkg --get-selections | grep gnome | cut -f 1`
sudo aptitude -f install
sudo aptitude purge `dpkg --get-selections | grep deinstall | cut -f 1`
sudo aptitude -f install

downgrade package:
apt-cache showpkg pkg (available versions)
sudo aptitude purge pkg
sudo aptitude install pkg=version


Backports
--------------
$ sudo vi /etc/apt/sources.list
deb http://ftp.debian.org/debian wheezy-backports main contrib non-free
deb-src http://ftp.debian.org/debian wheezy-backports main contrib non-free
ZZ
$ sudo aptitude update
$ sudo aptitude -t wheezy-backports install packagename


Blkid
-------
$ sudo blkid
/dev/sda3: UUID="35ff9e96-bd23-4bc6-a385-15042d4cf71e" TYPE="swap" 
/dev/sda1: UUID="ecd853bd-cd9a-42ac-adc6-dc39ae2be6a3" TYPE="ext4" 
/dev/sda2: UUID="e54db75b-3259-4d03-917c-2c26a6cdb95f" TYPE="ext4" 



Boot
--------
$ sudo blkid
less /etc/fstab
check that blkid=/etc/fstab


Chmod
----------
$ sudo chmod ugo+-rwx filename (change permissions)
$ sudo chmod +x filename (make executable)


Chown
---------
$ cd /
/$ ls -al
drwxr-xr-x   4 vicom vicom 4.0K Mar 22 17:13 home
$ sudo chown root:root home
$ ls
drwxr-xr-x   4 root root 4.0K Mar 22 17:13 home
/$


Compile
-------------
 $ sudo aptitude install checkinstall
$ mkdir Build
download test.tar.gz to Build
$ cd Build
$ tar -zvxf test.tar.gz
$ cd test
read "README" and "INSTALL"
$ ./configure --prefix=/usr/local
$ make
$ sudo checkinstall (or make install)
$ sudo aptitude hold test
$ make uninstall
$ make clean


DD
----
$ sudo dd if=~/Desktop/file.iso of=/dev/sdx


Debian
----------
missing firmware:
search "iwlwifi" in another computer:
http://www.debian.org/distrib/packages
http://packages.debian.org/search?keywords=firmware
put found "firmware-iwlwifi" in usbstick
insert usbstick when installation disk asks for firmware


Delete Permanently
---------------------------
$ shred -u -z -n 38 test.txt

$ sudo aptitude install secure-delete
$ srm test.txt
$ srm -r foldername


Dmesg
----------
$ dmesg | tail


Dpkg
--------
$ sudo dpkg -i packagename.deb (install .deb package)
$ sudo dpkg-reconfigure keyboard-configuration
$ sudo dpkg-reconfigure gdm3

install packages computer #1 --> computer #2:
$ sudo dpkg --get-selections >pkg-list
transfer the pkg-list file on the computers you want to update
$ avail=`mktemp`
$ apt-cache dumpavail > "$avail"
$ dpkg --merge-avail "$avail"
$ rm -f "$avail"
$ dpkg --set-selections < pkg-list
$ apt-get dselect-upgrade


Echo
-------

$ echo "hey you, are you talking to me?"
hey you, are you talking to me?
$ 


Flash plugin
------------------
 download .tar.gz from http://get.adobe.com/flashplayer/?no_redirect
tar -zxvf flash_player.tar.gz
$ cp libflashplayer.so /usr/lib/chromium/plugins/


Gnupg
------
$ gpg -c --cipher-algo AES256 hola.txt (encrypt)
$ gpg hola.txt.gpg (decrypt)


Grep
-------
$ vi test 
$ cat test
hi
my
hi
name
hi
is
hi
teddy
hi
roxpin
$ grep hi test
hi
hi
hi
hi
hi
$ 


Grub
--------
 
boot with livecd
$ fdisk -l
$ mount /dev/sda1 /mnt
$ grub-install --root-directory=/mnt/ /dev/sda
$ update-grub
$ reboot
 
grub> (or grub rescue>) - 
 ls (hdX,Y)/
set prefix=(hdX,Y)/boot/grub
set root=(hdX,Y)
insmod (hdX,Y)/boot/grub/linux.mod
linux /vmlinuz root=/dev/sdaY ro
initrd /initrd.img
boot
apt-get --purge-remove grub2
apt-get install grub2
 example:
ls
ls (hd0,3)/
error: unknown filesystem.
ls (hd0,2)/
error: unknown filesystem.
ls (hd0,1)/
./ ../ lost+found/ etc/ media/ ...img.old vmlinuz.old
set prefix=(hd0,1)/boot/grub
set root=(hd0,1)
insmod (hd0,1)/boot/grub/linux.mod
linux /vmlinuz root=/dev/sda1 ro
initrd /initrd.img
boot
terminal
aptitude purge grub2 (or apt-get --purge-remove grub2)
aptitude install grub2 (or apt-get install grub2)

$ sudo update-grub


History
----------
$ history
    1  su
    2  clear
    3  su
    4  sudo vi /etc/default/pulseaudio 
    5  sudo vi /etc/default/bluetooth 
    6  cd Pictures
    7  ls
    8  clear
    9  ls
   10  clear
   11  cd wallpapers/
   12  ls
$ !12 (choose history number)
ls
Desktop  Documents  Downloads  Music  Pictures  Videos
$ 


.ICEauthority
-------------------
"can't log in" solution:
ctrl-alt-F2
$ sudo rm /var/lib/gdm3/.ICEauthority*
$ cd
$ sudo rm .ICEauthority
$ sudo reboot


Ifconfig
-----------
$ sudo ifconfig


Iwconfig
------------
$ sudo iwconfig


Java
------
 download Linux (self-extracting file) from www.java.com to ~/Downloads
$ cd /usr/local/bin
/usr/local/bin$ sudo mkdir java
/usr/local/bin$ cd java
/usr/local/bin/java$ sudo mkdir 32
$ cd ~/Downloads
$ sudo mv jre-6u31-linux-i586.bin /usr/local/bin/java/32
$ sudo chmod 755 or a+x /usr/local/bin/java/32/jre-6u31-linux-i586.bin
$ cd /usr/local/bin/java/32
$ sudo ./jre-6u31-linux-i586.bin
$ sudo update-alternatives --install "/usr/bin/java" "java" "/usr/local/bin/java/32/jre1.6.0_31/bin/java" 1
when updating from previous removed java version then you'll need to execute the above command twice
$ sudo update-alternatives --set java /usr/local/bin/java/32/jre1.6.0_31/bin/java
$ sudo ln -s /usr/local/bin/java/32/jre1.6.0_31/lib/i386/libnpjp2.so /usr/lib/chromium/plugins
/usr/local/bin/java/32/jre1.6.0_31/bin/ControlPanel (optional control panel)
 uninstall:
$ rm /usr/lib/chromium/plugins/libnpjp2.so
$ rm -rf /usr/local/bin/java 


Mkfs
-------
$ sudo fdisk -l
[sudo] password for vicom: 
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048    39063551    19530752   83  Linux
/dev/sda2        39063552   476676095   218806272   83  Linux
/dev/sda3       476676096   488396799     5860352   82  Linux swap / Solaris
/dev/sdb          39063552   476676095   218806272   83  ntfs
$ sudo mkfs. (press tab for completion options)
$ sudo umount /dev/sdb; sudo mkfs.vfat -n "pendrive" -I /dev/sdb


Mount/Umount
----------------------
$ sudo fdisk -l
[sudo] password for vicom: 
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048    39063551    19530752   83  Linux
/dev/sda2        39063552   476676095   218806272   83  Linux
/dev/sda3       476676096   488396799     5860352   82  Linux swap / Solaris
/dev/sdb          39063552   476676095   218806272   83  ntfs
$ mkdir /media/usb
$ sudo mount (-t vfat) /dev/sdb /media/usb (-o uid=1000,gid=1000,utf8,dmask=027,fmask=137)
or
$ sudo mount (-t ntfs-3g) /dev/sdb /media/usb
$ umount /media/usb


On/Off
-----------
ctrl - alt - printscreen - reisub (force shutdown)
sudo shutdown -h now (halt)
sudo shutdown -r now (reboot)
killall chromium


PPA
------
ubuntu:
$ sudo add-apt-repository ppa:tuxpoldo/btsync 
$ sudo aptitude update

debian:
$ sudo add-apt-repository 'deb http://ppa.launchpad.net/shimmerproject/ppa/ubuntu quantal main'
$ sudo aptitude update
or
'Technical details about this PPA':
Signing key:
1024R/685D1580 <-----
$ sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 685D1580 <-----
$ echo 'deb http://ppa.launchpad.net/shimmerproject/ppa/ubuntu quantal main' >> /etc/apt/sources.list
$ sudo aptitude update


Pwd
-------
$ pwd
/home/vicom
$


Reference
----------------
/etc/apt/sources.list
/etc/network/interfaces
/var/log
(hd0,1)=/dev/sda1 (1st hard drive, 1st partition)
(hd1,3)=/dev/sdb3 (2nd hard drive, 3rd partition) 


Run/Execute 
------------------
./filename.bin


Screen
-----------
$ sudo vi /usr/share/X11/xorg.conf.d/20-intel.conf (lubuntu)
$ sudo vi /etc/X11/xorg.conf.d/20-intel.conf (arch) 
Section "Device"
   Identifier  "Intel Graphics"
   Driver      "intel"
   Option      "AccelMethod"  "uxa"
EndSection
ZZ
$ reboot


Terminal Shortcuts
----------------------------
shift - insert (middle click)
ctrl - alt - f1 (tty1)
ctrl - a (beginning of sentence)
ctrl - e (end of sentence)
ctrl - c (stop operation)
ctrl - u (cut whole sentence back)
ctrl - k (cut whole sentence forward)
ctrl - w (cut one word back)
ctrl - y (paste)


Truecrypt
---------------
$ modprobe loop
$ tee /etc/modules-load.d/truecrypt.conf <<< "loop"
$ reboot


Vi
----

i (one letter to the left insert mode)
a (one letter to the right insert mode)
ctrl - [ (command mode)
h (left)
j (down)
k (up)
l (right)
r (replace)
x (erase forward)
X (erase backward)
0 (beginning sentence)
$ (end sentence)
b (one word backward)
w (one word forward)
db (erase one word backward)
dw (erase one word forward)
u (undo)
dd (delete sentence, cut)
p (paste)
yy (copy)
o (next line insert mode)
gg (beginning of everything)
GG (end of everything)
:q (quit)
:q! (force quit)
:wq (save and quit)
ZZ (save and quit)


Short Version Fix:
------------------------
gpg --keyserver hkp://subkeys.pgp.net --recv-keys A040830F7FAC5991
gpg --export --armor 7FAC5991 | sudo apt-key add -


Long Version Fix:
-----------------------
gpg --keyserver hkp://subkeys.pgp.net --recv-keys A040830F7FAC5991
The A040830F7FAC5991 is from the warning shown before. You might want to change it if you have different repository. For the google repository, you should get this as the output

gpg: requesting key 7FAC5991 from hkp server subkeys.pgp.net
gpg: key 7FAC5991: public key "Google, Inc. Linux Package Signing Key " imported
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
gpg: Total number processed: 1
gpg:               imported: 1

After that, type

gpg --export --armor 7FAC5991 | sudo apt-key add -
Where the 7FAC5991 is from the output shown before.


Pyrenamer
---------------
01 - Back Alley Uproar
{1} S01E{num2}.avi
01 - Back Alley Uproar S01E00.avi


Plex (add firewall rule gufw)
---------------------------------------
Simple
Plex
Allow
In
TCP
32400


Syncthing
---------------
1- Grab the latest release of Syncthing for your operating system and unpack it. 
Create new folder called /home/vicom/Bin. Copy and paste the file "Syncthing" 
to /home/vicom/Bin. Double click "Syncthing." This will open the browser at 
http://localhost:8080/ and have created a folder called /home/vicom/Sync

2- Create new folder /home/vicom/Sync/toshiba.eeepc

3- Open gufw (firewall). Add port 22000/TCP and port 21025/UDP to the rules

4- On the other computer that you want to sync with do exactly the same steps (1-3). 

5- On the browser GUI page of the main computer "Add Device" (right side)
Device ID: (number that appears on the other computer that you want to sync with 
in the "Show ID" section on the top right settings button)
Device Name: eeepc
Share Folders With Device: toshiba.eeepc

6- On the browser GUI page of the main computer "Add Folder" (left side)
Folder ID: toshiba.eeepc
Folder Path: /home/vicom/Sync/toshiba.eeepc
Share With Devices: eeepc

7- On the other computer "Add Device" (right side)
Device ID: (number from the main computer that appears on the "Show ID" section)
Devide Name: toshiba
Share Folders With Device: toshiba.eeepc

8- On the other computer "Add Folder" (left side)
Folder ID: eeepc.toshiba
Folder Path: /home/vicom/Sync/toshiba.eeepc
Share With Devices: toshiba

9- Restart on both computers, and delete "default" folder, restart again.


Make transmission-gtk default to open torrent magnet
---------------------------------------------------------------------------
debian:
terminal
xdg-mime default transmission-gtk.desktop x-scheme-handler/magnet

arch:
sudo vi /usr/bin/xdg-open
find-->
open_xfce() 
        { 
            exo-open "$1" 

            if [ $? -eq 0 ]; then 
                exit_success 
            else 
                exit_failure_operation_failed 
            fi 
        }

substitute with-->
open_xfce() 
        { 
            if (echo "$1" | grep -q '^magnet:'); then 
                transmission-gtk "$1" 
            else 
                exo-open "$1" 
            fi 

            if [ $? -eq 0 ]; then 
                exit_success 
            else 
                exit_failure_operation_failed 
            fi 
        }



Openbox Shortcuts
---------------------------

sudo vi .config/openbox/lxde-rc.xml

    <!-- Keybindings for windows -->
    
    <keybind key="W-c">
      <action name="Close"/>

    <!--keybindings for LXPanel -->
    
    <keybind key="C-space">
      <action name="Execute">
        <command>lxpanelctl run</command>

    <keybind key="C-Escape">
      <action name="Execute">
        <command>/usr/bin/lxsession-logout</command>
      
    <!-- Launch Task Manager with Ctrl+Alt+Del -->
    
    <keybind key="C-Return">
      <action name="Execute">
        <command>/usr/bin/lxterminal</command>


Gnome
----------
gnome-session-quit --power-off
lxpolkit
gvfs


Gpu Bug Temporary Fix
--------------------------------
always_flush_cache=true always_flush_batch=true /usr/bin/google-chrome-stable & exit


Disable Chrome New Bookmarks
--------------------------------------------
chrome://flags
enable enhanced bookmarks
disable
relaunch


Ubuntu su
---------------
sudo su
passwd


Compress/Extract
------------------------
tar -cf folders.tar folder1 folder2
ls
folders.tar
tar -xf folders.tar
ls
folder1 folder2

gzip folders.tar
ls
folders.tar.gz
gunzip folders.tar.gz
ls
folders.tar

bzip2 folders.tar
ls
folders.tar.bz2
bunzip2 folders.tar.bz2
ls
folders.tar

tar -zcf folders.tar.gz folder1 folder2 (tar + gzip)
ls
folders.tar.gz
tar -zvxf folders.tar.gz
ls
folder1 folder2

tar -jcf folders.tar.bz2 folder1 folder2 (tar + bzip2)
ls
folders.tar.bz2
tar -jvxf folders.tar.bz2
ls
folder1 folder2

rar a folders.rar folder1 folder2
ls
folders.rar
unrar x folders.rar
ls
folder1 folder2

zip -r folders.zip folder1 folder2
ls
folders.zip
unzip folders.zip
ls
folder1 folder2
